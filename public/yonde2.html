<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>YONDE 隙間時間は、楽しむ時間</title>
    <link rel="stylesheet" href="css/hiyoko.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- A-Frame ライブラリの読み込み -->
    <script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
    <!-- AR.js ライブラリの読み込み -->
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
    <script src="https://rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe- ar.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146452061-4"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-146452061-4');
    </script>

    <script>
        AFRAME.registerComponent('registerevents', {
            init: function () {
                var marker = this.el;

                // マーカー検出時
                marker.addEventListener('markerFound', function () {
                    var markerId = marker.id;

                    var found = document.querySelector('#found');
                    document.getElementById("hold_over_marker").style.display = 'none';
                });

                // マーカー見失った時
                marker.addEventListener('markerLost', function () {
                    var markerId = marker.id;

                    var found = document.querySelector('#found');
                    document.getElementById("hold_over_marker").style.display = 'block';
                });
            }
        });
    </script>

    <style>
        #hold_over_marker {
            position: fixed;
            display: inline-block;
            white-space: nowrap;
            font-family: sans-serif;
            font-size: calc(5vw);
            font-weight: bold;
            color: rgba(255, 255, 255, 0.70);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
            /* visibility: hidden; */
        }

        .none {
            display: none;
        }
    </style>

</head>

<body style="margin:0px; overflow:hidden;">

    <a-scene embedded arjs="debugUIEnabled:false;trackingMethod:best;" renderer="gammaOutput: true;">

        <a-assets>
            <a-asset-item id="sample-obj" src="./image/CartoonRocket.obj"></a-asset-item>
            <a-asset-item id="sample-mtl" src="./image/CartoonRocket.mtl"></a-asset-item>
        </a-assets>


        <a-assets>
            <a-asset-item id="star-obj" src="./image/Star_01.obj"></a-asset-item>
            <a-asset-item id="star-mtl" src="./image/Star_01.mtl"></a-asset-item>
        </a-assets>


        <a-assets>
            <a-asset-item id="sun-obj" src="./image/sun.obj"></a-asset-item>
            <a-asset-item id="sun-mtl" src="./image/sun.mtl"></a-asset-item>
        </a-assets>

        <a-assets>
            <a-asset-item id="sate-obj" src="./image/Satelite.obj"></a-asset-item>
            <a-asset-item id="sate-mtl" src="./image/Satelite.mtl"></a-asset-item>
        </a-assets>

        <a-marker id="found" type="pattern" url="./img/pattern-gs-yonde.patt" begin="markerfound" end="markerlost"
            registerevents vidhandler>
            <!-- rocket -->
            <a-obj-model id="sample" src="#sample-obj" mtl="#sample-mtl" position="1.5 0.5 0.5" scale="0.1 0.1 0.1"
                rotation="0 0 -40">
            </a-obj-model>

            <!-- box -->
            <a-box position="-1.5 2.5 -2" rotation="0 45 0" scale="0.3 0.3 0.3" color="#4CC3D9"></a-box>

            <!-- 円柱 -->
            <a-cylinder position="1 2 -3" radius="0.1" height="0.2" color="#EF2D5E"></a-cylinder>

            <!-- sun -->
            <a-obj-model src="#sun-obj" mtl="#sun-mtl" position="2 2.5 -1" scale="0.2 0.2 0.2" rotation="0 0 -30">
            </a-obj-model>

            <!-- star -->
            <a-obj-model src="#star-obj" mtl="#star-mtl" position="-0.8 1 2" scale="0.002 0.002 0.002"
                rotation="0 90 -30">
            </a-obj-model>

            <!-- satelite -->
            <a-obj-model src="#sate-obj" mtl="#sate-mtl" position="-3 0.5 0.5" scale="0.001 0.001 0.001"
                rotation="90 0 0">
            </a-obj-model>


            <a-sphere position="0 1.25 0" radius="1.25" src="./image/earth.jpg"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 20000">
            </a-sphere>

        </a-marker>

        <a-entity camera></a-entity>

    </a-scene>

    <div id="hold_over_marker">
        ARマーカーにかざして下さい
    </div>

    <div class="ui">
        <div class="social">
            <div class="twitter">
                <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
            </div>
        </div>
    </div>
    <script>!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https'; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = p + '://platform.twitter.com/widgets.js'; fjs.parentNode.insertBefore(js, fjs); } }(document, 'script', 'twitter-wjs');</script>
    <script src="js/jquery.js"></script>
</body>

</html>